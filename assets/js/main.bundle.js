!function(e){function a(a){for(var n,o,s=a[0],u=a[1],l=a[2],m=0,_=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&_.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(a);_.length;)_.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],n=!0,s=1;s<t.length;s++){var u=t[s];0!==r[u]&&(n=!1)}n&&(i.splice(a--,1),e=o(o.s=t[0]))}return e}var n={},r={0:0},i=[];function o(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=n,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)o.d(t,n,function(a){return e[a]}.bind(null,n));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="/assets/js/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=a,s=s.slice();for(var l=0;l<s.length;l++)a(s[l]);var c=u;i.push([5,1]),t()}({5:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(6);\n\n\n//# sourceURL=webpack:///multi_./src/js/app.js?")},6:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(0);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// CONCATENATED MODULE: ./src/js/map.js\nvar map_maps=function maps(){jquery_default()(window).on('load',function(){var mapBlock=document.querySelector('#map');var switcher=document.querySelector('.switch');var tabs;var navigatorInput;var navigatorButton;var navigatorTime;var navigatorTimeMinutes;var navigatorTimeText;if(jquery_default()(window).width()>1100){tabs=document.querySelectorAll('.map__tabs.--desktop .map__tab');navigatorInput=document.querySelector('.--desktop .navigator__input input');navigatorButton=document.querySelector('.--desktop .navigator__btn');navigatorTime=document.querySelector('.--desktop .navigator__btn-time');navigatorTimeMinutes=document.querySelector('.--desktop .navigator__btn-time-minutes');navigatorTimeText=document.querySelector('.--desktop .navigator__btn-time-text');}else{tabs=document.querySelectorAll('.map__tabs.--mobile .map__tab');navigatorInput=document.querySelector('.--mobile .navigator__input input');navigatorButton=document.querySelector('.--mobile .navigator__btn');navigatorTime=document.querySelector('.--mobile .navigator__btn-time');navigatorTimeMinutes=document.querySelector('.--mobile .navigator__btn-time-minutes');navigatorTimeText=document.querySelector('.--mobile .navigator__btn-time-text');}var navigatorClear=document.querySelector('.map__delete-navigator');var navigatorRouts=document.querySelectorAll('.navigator__route');var icoCafe='./assets/img/map/cafe.svg';var icoEducation='./assets/img/map/education.svg';var icoFood='./assets/img/map/food.svg';var icoGas='./assets/img/map/gas.svg';var icoGym='./assets/img/map/gym.svg';var icoHelth='./assets/img/map/helth.svg';var icoPark='./assets/img/map/park.svg';var icoSecurity='./assets/img/map/security.svg';var icoSight='./assets/img/map/sight.svg';var icoTransport='./assets/img/map/transport.svg';var icoWear='./assets/img/map/wear.svg';// осноыной маркер застройки, обновляем его каждый раз при переисовке\nvar mainMarker={marker:'./assets/img/map/main-marker.svg',position:[59.838023,30.069846]};// маркеры при первой загрузке, (Район) надо заполнить\nvar markers=[{marker:icoCafe,position:[59.856338,30.015238]},{marker:icoEducation,position:[59.854544,30.025236]},{marker:icoFood,position:[59.850540,30.020996]},{marker:icoGas,position:[59.831720,30.007899]},{marker:icoGym,position:[59.853085,30.006578]},{marker:icoHelth,position:[59.849031,30.030725]},{marker:icoPark,position:[59.851107,30.039176]},{marker:icoSecurity,position:[59.845392,30.031111]},{marker:icoSight,position:[59.861671,30.047501]},{marker:icoTransport,position:[59.851718,30.062337]},{marker:icoWear,position:[59.849229,30.144007]}];// маркеры при переключении на внутри ЖК, надо заполнить\nvar markersInner=[{marker:icoCafe,position:[59.839462,30.064801]},{marker:icoEducation,position:[59.838276,30.068632]},{marker:icoFood,position:[59.839064,30.068796]},{marker:icoGas,position:[59.838740,30.070609]},{marker:icoGym,position:[59.840239,30.067085]},{marker:icoHelth,position:[59.840137,30.064841]},{marker:icoPark,position:[59.839527,30.073395]},{marker:icoSecurity,position:[59.836572,30.069793]}];if(mapBlock){var init=function init(){var myMap=new ymaps.Map(\"map\",{center:mainMarker.position,zoom:13});myMap.behaviors.disable('scrollZoom');myMap.controls.remove('geolocationControl');myMap.controls.remove('typeSelector');myMap.controls.remove('trafficControl');myMap.controls.remove('fullscreenControl');myMap.controls.remove('searchControl');// функция для добавления основнова маркера, вызываем ее при каждом обновлении карты\nvar addMarker=function addMarker(){var mainMarkerAdd=new ymaps.Placemark(mainMarker.position,{},{iconLayout:'default#imageWithContent',iconImageHref:mainMarker.marker,iconImageSize:[64,100],iconImageOffset:[-32,-50]});myMap.geoObjects.add(mainMarkerAdd);};// функция для добавления не основных маркеров, передаем массив с маркерами при обновлении карты\nvar addPoints=function addPoints(array){array.forEach(function(elem){var addMarker=new ymaps.Placemark(elem.position,{},{iconLayout:'default#imageWithContent',iconImageHref:elem.marker,iconImageSize:[42,42],iconImageOffset:[-24,-24]});myMap.geoObjects.add(addMarker);});};addMarker();addPoints(markers);var navigator=function navigator(position){myMap.geoObjects.removeAll();navigatorClear.classList.add('active');/// проверяем на строку и добавляем Санкт-петербург так как он ищет почемсу то адреса везде но не в питере\nif(typeof position===\"string\"||position instanceof String){position=\"Санкт Петербург \"+position;}var multiRoute=new ymaps.multiRouter.MultiRoute({referencePoints:[[mainMarker.position],position]},{boundsAutoApply:true});myMap.geoObjects.add(multiRoute);multiRoute.model.events.add('requestsuccess',function(){var activeRoute=multiRoute.getActiveRoute();var time=Math.abs(parseInt(activeRoute.properties.get(\"duration\").text))%100;var timeDecimal=time%10;var timeText=\"\";if(time>10&&time<20){timeText=\"минут\";}else if(timeDecimal>1&&timeDecimal<5){timeText=\"минуты\";}else if(timeDecimal==1){timeText=\"минута\";}else{timeText=\"минут\";}navigatorTimeMinutes.innerHTML=\"\";navigatorTimeMinutes.innerHTML=parseInt(activeRoute.properties.get(\"duration\").text);navigatorTimeText.innerHTML=\"\";navigatorTimeText.innerHTML=timeText;navigatorTime.classList.add('active');});};// свитчим не основные маркеры, удаляем/добавляем\n// определяет по индексу какая кнопка активна Район/Внутри ЖК\nswitcher.addEventListener('click',function(){switcher.classList.toggle('active');if(switcher.classList.contains('active')){myMap.geoObjects.removeAll();addMarker();}else{tabs.forEach(function(elem,index){if(elem.classList.contains('active')){if(index==0){addPoints(markers);}else if(index==1){addPoints(markersInner);}}});}});// переключаем маркеры Район/Внутри ЖК\ntabs.forEach(function(elem,index){elem.addEventListener('click',function(){if(!elem.classList.contains('active')){tabs.forEach(function(e){e.classList.remove('active');});elem.classList.add('active');if(elem.classList.contains('active')){if(index==0){myMap.geoObjects.removeAll();addMarker();addPoints(markers);myMap.setZoom(13);// потом подстроить размеры\nmyMap.setCenter(mainMarker.position);switcher.classList.remove('active');}else if(index==1){myMap.geoObjects.removeAll();addMarker();addPoints(markersInner);myMap.setZoom(16);// потом подстроить размеры\nmyMap.setCenter(mainMarker.position);switcher.classList.remove('active');}}}});});navigatorButton.addEventListener('click',function(){if(navigatorInput.value.length>0){navigator(navigatorInput.value);}});navigatorInput.addEventListener('keyup',function(e){if(e.keyCode==13&&navigatorInput.value.length>0){navigator(navigatorInput.value);}});navigatorRouts.forEach(function(elem){elem.addEventListener('click',function(){var position=elem.getAttribute('data-point');navigator([position]);navigatorInput.value=\"\";});});navigatorClear.addEventListener('click',function(){myMap.geoObjects.removeAll();addPoints(markers);addMarker();navigatorInput.value=\"\";navigatorTime.classList.remove('active');navigatorClear.classList.remove('active');myMap.setZoom(13);// потом подстроить размеры\nmyMap.setCenter(mainMarker.position);tabs.forEach(function(elem,index){elem.classList.remove('active');if(index==0){elem.classList.add('active');}});});};ymaps.ready(init);}});};\n// EXTERNAL MODULE: ./node_modules/swiper/swiper-bundle.esm.js + 90 modules\nvar swiper_bundle_esm = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/js/slider.js\nvar slider_slider=function slider(){new swiper_bundle_esm[\"a\" /* default */](\".steps-slider\",{spaceBetween:0,slidesPerView:\"auto\"});new swiper_bundle_esm[\"a\" /* default */](\".map__panels\",{spaceBetween:24,slidesPerView:\"auto\"});jquery_default()('.--faltopen').on('click',function(){if(jquery_default()(window).width()>1100){jquery_default()('.flat.--desktop').fadeIn();}else{jquery_default()(this).parents('table').next().fadeIn();new swiper_bundle_esm[\"a\" /* default */](\".flat__pics-mobile\",{spaceBetween:0,slidesPerView:1,pagination:{el:'.swiper-pagination'},// Navigation arrows\nnavigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev'}});}});jquery_default()('.gallery-open').on('click',function(){jquery_default()('.gallery ').fadeIn();var swiper=new swiper_bundle_esm[\"a\" /* default */](\".gallery__thumbs\",{spaceBetween:12,slidesPerView:'auto',freeMode:true,watchSlidesProgress:true});var swiper2=new swiper_bundle_esm[\"a\" /* default */](\".gallery__slider\",{spaceBetween:10,navigation:{nextEl:\".swiper-button-next\",prevEl:\".swiper-button-prev\"},thumbs:{swiper:swiper}});});jquery_default()('.galery__close').on('click',function(){jquery_default()('.gallery ').fadeOut();});};\n// CONCATENATED MODULE: ./src/js/news.js\nvar news_news=function news(){jquery_default()('.news__item').on('click',function(){jquery_default()(this).addClass('active').siblings().removeClass('active');jquery_default()(this).parents('.news').addClass('active');jquery_default()('.news__right').addClass('active');});jquery_default()('.news__right-close').on('click',function(){jquery_default()(this).parents('.news').removeClass('active');jquery_default()(this).parents('.news').find('.news__item').removeClass('active');jquery_default()('.news__right').removeClass('active');jquery_default()('.news__item.active').removeClass('active');});jquery_default()('.news__right-bottom').on('click',function(e){e.preventDefault();jquery_default()('.news__item.active').removeClass('active').next().addClass('active');});};\n// CONCATENATED MODULE: ./src/js/menu.js\nvar menu_menu=function menu(){jquery_default()('.burger').on('click',function(){jquery_default()('.menu').fadeIn();});jquery_default()('.menu__close, .menu__info-btn').on('click',function(){jquery_default()('.menu').fadeOut();});};\n// EXTERNAL MODULE: ./node_modules/wnumb/wNumb.js\nvar wNumb = __webpack_require__(1);\nvar wNumb_default = /*#__PURE__*/__webpack_require__.n(wNumb);\n\n// EXTERNAL MODULE: ./node_modules/nouislider/dist/nouislider.js\nvar nouislider = __webpack_require__(2);\nvar nouislider_default = /*#__PURE__*/__webpack_require__.n(nouislider);\n\n// CONCATENATED MODULE: ./src/js/filter.js\nvar filter_filter=function filter(){jquery_default()(window).on('load',function(){jquery_default()('.flats__filter-lavels-button, .flats__switch').on('click',function(){jquery_default()(this).toggleClass('active');});jquery_default()('.back-flats, .tabs__item--houses').on('click',function(){jquery_default()('.flats').removeClass('active');});jquery_default()('.back-houses, .tabs__item--houses').on('click',function(){jquery_default()('.houses').removeClass('active');});jquery_default()('.elem').on('click',function(){jquery_default()('.houses').addClass('active');});jquery_default()('.tabs__item--flats').on('click',function(){jquery_default()('.flats').addClass('active');});jquery_default()('.ipoteka__arrow').on('click',function(){if(!jquery_default()(this).hasClass('active')){jquery_default()(this).addClass('active');jquery_default()('.ipoteka__top').addClass('active');jquery_default()('.ipoteka__drop').fadeIn();}else{jquery_default()(this).removeClass('active');jquery_default()('.ipoteka__top').removeClass('active');jquery_default()('.ipoteka__drop').fadeOut();}});jquery_default()('.ipoteka__panel-btn').on('click',function(){jquery_default()(this).addClass('active').siblings().removeClass('active');});jquery_default()('.flat__close').on('click',function(){jquery_default()('.flat').fadeOut();jquery_default()(this).parents('.flat-mobile').fadeOut();});var rangeFilter_1=document.querySelector('#range_1');var rangeFilter_2=document.querySelector('#range_2');var rangeIpoteka_1=document.querySelector('#ipoteka__range_1');var rangeIpoteka_2=document.querySelector('#ipoteka__range_2');if(rangeIpoteka_1){var IpotekaMax_1=document.querySelector('#ipoteka__summ_1');nouislider_default.a.create(rangeIpoteka_1,{start:[0],connect:true,range:{'min':0,'max':10000000},format:wNumb_default()({decimals:0})});rangeIpoteka_1.noUiSlider.on('update',function(values,handle){IpotekaMax_1.innerHTML=values[handle];});}if(rangeIpoteka_2){var IpotekaMax_2=document.querySelector('#ipoteka__summ_2');nouislider_default.a.create(rangeIpoteka_2,{start:[0],connect:true,range:{'min':0,'max':10},format:wNumb_default()({decimals:0})});rangeIpoteka_2.noUiSlider.on('update',function(values,handle){IpotekaMax_2.innerHTML=values[handle];});}if(rangeFilter_1){var marginMin_1=document.querySelector('#range_1_min');var marginMax_1=document.querySelector('#range_1_max');var minSumm=0;var maxSumm=8;nouislider_default.a.create(rangeFilter_1,{start:[minSumm,maxSumm],connect:true,range:{'min':minSumm,'max':maxSumm},format:wNumb_default()({decimals:1})});rangeFilter_1.noUiSlider.on('update',function(values,handle){if(handle){marginMax_1.innerHTML=values[handle];}else{marginMin_1.innerHTML=values[handle];}});}if(rangeFilter_2){var marginMin_2=document.querySelector('#range_2_min');var marginMax_2=document.querySelector('#range_2_max');var minSumm=0;var maxSumm=160;nouislider_default.a.create(rangeFilter_2,{start:[minSumm,maxSumm],connect:true,range:{'min':minSumm,'max':maxSumm},format:wNumb_default()({decimals:0})});rangeFilter_2.noUiSlider.on('update',function(values,handle){if(handle){marginMax_2.innerHTML=values[handle];}else{marginMin_2.innerHTML=values[handle];}});}var rangeFilter_mobile_1=document.querySelector('#range_1-mobile');var rangeFilter_mobile_2=document.querySelector('#range_2-mobile');if(rangeFilter_mobile_1&&rangeFilter_mobile_2){var marginMinMobile_1=document.querySelector('#range_1_min-mobile');var marginMinMobile_2=document.querySelector('#range_2_min-mobile');var marginMaxMobile_1=document.querySelector('#range_1_max-mobile');var marginMaxMobile_2=document.querySelector('#range_2_max-mobile');var minSumm=0;var maxSumm=160;nouislider_default.a.create(rangeFilter_mobile_1,{start:[minSumm,maxSumm],connect:true,range:{'min':minSumm,'max':maxSumm},format:wNumb_default()({decimals:0})});rangeFilter_mobile_1.noUiSlider.on('update',function(values,handle){if(!handle){marginMinMobile_1.innerHTML=values[handle];}else{marginMaxMobile_1.innerHTML=values[handle];}});nouislider_default.a.create(rangeFilter_mobile_2,{start:[minSumm,maxSumm],connect:true,range:{'min':minSumm,'max':maxSumm},format:wNumb_default()({decimals:0})});rangeFilter_mobile_2.noUiSlider.on('update',function(values,handle){if(!handle){marginMinMobile_2.innerHTML=values[handle];}else{marginMaxMobile_2.innerHTML=values[handle];}});}jquery_default()('.filter-close ').on('click',function(){jquery_default()(this).parents('.popup-filter').removeClass('active');});jquery_default()('.--open-filter').on('click',function(){jquery_default()('.popup-filter--filter').addClass('active');});jquery_default()('.--open-sort').on('click',function(){jquery_default()('.popup-filter--sort').addClass('active');});});};\n// CONCATENATED MODULE: ./src/js/tabs.js\nvar tabs_tabs=function tabs(){jquery_default()(\".flat__tab\").on('click',function(){if(!jquery_default()(this).hasClass('active')){var index=jquery_default()(this).index();jquery_default()(this).addClass('active').siblings().removeClass('active');jquery_default()('.flat__pic:eq('+index+')').addClass('active').siblings().removeClass('active');}});};\n// CONCATENATED MODULE: ./src/js/counter.js\nvar counter_counterBtns=function counterBtns(){var maxValue=100000;var minValue=1;jquery_default()('.counter__plus').on('click',function(){var input=jquery_default()(this).siblings('.counter__input');var value=parseInt(input.val());if(value<=maxValue)input.val(value+1000+\"₽\");});jquery_default()('.counter__minus').on('click',function(){var input=jquery_default()(this).siblings('.counter__input');var value=parseInt(input.val());if(value>=minValue)input.val(value-1000+\"₽\");});};\n// EXTERNAL MODULE: ./node_modules/inputmask/dist/inputmask.js\nvar inputmask = __webpack_require__(4);\nvar inputmask_default = /*#__PURE__*/__webpack_require__.n(inputmask);\n\n// CONCATENATED MODULE: ./src/js/form.js\nvar form_form=function form(){console.log('form');var selector=document.querySelectorAll('.js-mask__tel');inputmask_default()({mask:'+7 (9 9 9) 9 9 9 - 9 9 - 9 9',showMaskOnHover:false}).mask(selector);jquery_default()('.form__switch-wrap ').on('click',function(){jquery_default()('.form__switch').toggleClass('active');});jquery_default()('.form__close').on('click',function(){jquery_default()('.form').fadeOut();});jquery_default()('.form__open').on('click',function(){jquery_default()('.form').fadeIn();});};\n// CONCATENATED MODULE: ./src/js/select.js\nvar select_select=function select(){jquery_default()('.select__main').on('click',function(){if(!jquery_default()(this).hasClass('active')){jquery_default()(this).addClass('active');jquery_default()(this).nextAll('.select__list').fadeIn();}});jquery_default()('.select__item').on('click',function(){jquery_default()('.select__list').fadeOut();var text=jquery_default()(this).text();jquery_default()(this).parents('.select').find('.select__main').empty().text(text);jquery_default()('.select__main').removeClass('active');});jquery_default()(document).on('click',function(e){var select=jquery_default()('.select');if(!select.is(e.target)&&select.has(e.target).length===0){jquery_default()('.select__list').fadeOut();jquery_default()('.select__main').removeClass('active');}});};\n// CONCATENATED MODULE: ./src/js/app.js\nvar app={init:function init(){slider_slider();map_maps();news_news();menu_menu();filter_filter();tabs_tabs();counter_counterBtns();form_form();select_select();}};app.init();\n\n//# sourceURL=webpack:///./src/js/app.js_+_9_modules?")}});